Intégration rapide

Nginx

# dans ton server {} principal
include /etc/nginx/conf.d/security_headers.conf;


FastAPI

from fastapi import FastAPI
from server.routes.health import router as health_router

app = FastAPI()
app.include_router(health_router)  # /healthz, /readyz, /metrics


Ajoute prometheus-client, asyncpg, stripe à server/requirements.txt.

CI GitHub

Renseigne les secrets : DOCKERHUB_USERNAME, DOCKERHUB_TOKEN.

Optionnel : SITE_BASE_URL (utilisé par le script sitemaps lors du build/deploy).

Sitemaps

SITE_BASE_URL="https://visual.example" node scripts/generate_sitemaps.mjs
# fichiers générés dans public/sitemaps/ (fr/en/es + index)